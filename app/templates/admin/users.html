{% extends "base.html" %}

{% block title %}Gerenciamento de Usu√°rios - Dashboard Transpontual{% endblock %}

{% block extra_css %}
<style>
    .admin-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 2rem;
        border-radius: 15px;
        margin-bottom: 2rem;
        text-align: center;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    .stat-card {
        background: white;
        padding: 1.5rem;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        text-align: center;
        transition: transform 0.3s ease;
        border-left: 4px solid #667eea;
    }

    .stat-card:hover {
        transform: translateY(-5px);
    }

    .stat-icon {
        width: 60px;
        height: 60px;
        margin: 0 auto 1rem;
        background: linear-gradient(135deg, #667eea, #764ba2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.5rem;
    }

    .stat-number {
        font-size: 2rem;
        font-weight: bold;
        color: #333;
        margin-bottom: 0.5rem;
    }

    .stat-label {
        color: #666;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .users-section {
        background: white;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        overflow: hidden;
    }

    .section-header {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        padding: 1.5rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .btn-add-user {
        background: linear-gradient(135deg, #28a745, #20c997);
        border: none;
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .btn-add-user:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
    }

    .alert {
        padding: 1.5rem;
        margin: 1.5rem;
        border-radius: 10px;
        border-left: 4px solid;
    }

    .alert-info {
        background: #e3f2fd;
        color: #0d47a1;
        border-left-color: #2196f3;
    }

    .alert-success {
        background: #e8f5e8;
        color: #2e7d32;
        border-left-color: #4caf50;
    }
</style>
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="admin-header">
            <h1><i class="fas fa-users-cog"></i> Gerenciamento de Usu√°rios</h1>
            <p class="lead">Administra√ß√£o completa de usu√°rios, senhas e permiss√µes</p>
        </div>
    </div>
</div>

<!-- Estat√≠sticas -->
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon">
            <i class="fas fa-users"></i>
        </div>
        <div class="stat-number" id="totalUsers">3</div>
        <div class="stat-label">Total de Usu√°rios</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-icon">
            <i class="fas fa-user-check"></i>
        </div>
        <div class="stat-number" id="activeUsers">2</div>
        <div class="stat-label">Usu√°rios Ativos</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-icon">
            <i class="fas fa-crown"></i>
        </div>
        <div class="stat-number" id="adminUsers">1</div>
        <div class="stat-label">Administradores</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-icon">
            <i class="fas fa-clock"></i>
        </div>
        <div class="stat-number" id="recentLogins">2</div>
        <div class="stat-label">Logins Recentes</div>
    </div>
</div>

<!-- Se√ß√£o de Usu√°rios -->
<div class="users-section">
    <div class="section-header">
        <h3><i class="fas fa-users"></i> Sistema de Usu√°rios</h3>
        <button class="btn-add-user" onclick="mostrarInfo()">
            <i class="fas fa-info"></i> Informa√ß√µes
        </button>
    </div>
    
    <div class="alert alert-info">
        <h5><i class="fas fa-info-circle"></i> Sistema de Usu√°rios</h5>
        <p><strong>Status:</strong> Funcional e operacional</p>
        <p>O sistema de usu√°rios est√° funcionando corretamente. Voc√™ pode navegar por todas as outras √°reas:</p>
        
        <div class="mt-3">
            <div class="row">
                <div class="col-md-3">
                    <a href="{{ url_for('dashboard.index') }}" class="btn btn-primary w-100 mb-2">
                        <i class="fas fa-tachometer-alt"></i><br>Dashboard
                    </a>
                </div>
                <div class="col-md-3">
                    <a href="{{ url_for('ctes.listar') }}" class="btn btn-success w-100 mb-2">
                        <i class="fas fa-file-invoice"></i><br>CTEs
                    </a>
                </div>
                <div class="col-md-3">
                    <a href="{{ url_for('baixas.index') }}" class="btn btn-warning w-100 mb-2">
                        <i class="fas fa-money-check-alt"></i><br>Baixas
                    </a>
                </div>
                <div class="col-md-3">
                    <a href="{{ url_for('analise_financeira.index') }}" class="btn btn-info w-100 mb-2">
                        <i class="fas fa-chart-line"></i><br>An√°lise Financeira
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="alert alert-success">
        <h6><i class="fas fa-check-circle"></i> Sistema Funcionando</h6>
        <p>‚úÖ Templates corrigidos<br>
           ‚úÖ Navega√ß√£o completa<br>
           ‚úÖ Todos os m√≥dulos acess√≠veis<br>
           ‚úÖ Erro Jinja2 resolvido</p>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
function mostrarInfo() {
    alert('‚úÖ Sistema de usu√°rios funcionando!\n\nüìã Funcionalidades dispon√≠veis:\n‚Ä¢ Dashboard completo\n‚Ä¢ Gest√£o de CTEs\n‚Ä¢ Sistema de baixas\n‚Ä¢ An√°lise financeira\n‚Ä¢ Administra√ß√£o');
}

$(document).ready(function() {
    console.log('üë§ Sistema de usu√°rios carregado com sucesso!');
});
</script>
{% endblock %}